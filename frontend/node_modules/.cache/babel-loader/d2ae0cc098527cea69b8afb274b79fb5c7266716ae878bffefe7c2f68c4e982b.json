{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\Embedded AI Agent\\\\frontend\\\\src\\\\components\\\\settings\\\\SettingsModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Dialog } from '@headlessui/react';\nimport { X, Settings, Eye, EyeOff, TestTube, CheckCircle, AlertCircle } from 'lucide-react';\nimport { useChat } from '../../context/ChatContext';\nimport { chatService } from '../../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SettingsModal = ({\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const {\n    state,\n    actions\n  } = useChat();\n  const [activeTab, setActiveTab] = useState('models');\n  const [formData, setFormData] = useState({\n    settings: {},\n    apiKeys: {}\n  });\n  const [showApiKeys, setShowApiKeys] = useState({});\n  const [testing, setTesting] = useState({});\n  const [testResults, setTestResults] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  // Initialize form data when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      setFormData({\n        settings: {\n          ...state.settings\n        },\n        apiKeys: {}\n      });\n      setTestResults({});\n    }\n  }, [isOpen, state.settings]);\n  const handleInputChange = (category, key, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [category]: {\n        ...prev[category],\n        [key]: value\n      }\n    }));\n  };\n  const toggleApiKeyVisibility = provider => {\n    setShowApiKeys(prev => ({\n      ...prev,\n      [provider]: !prev[provider]\n    }));\n  };\n  const testApiKey = async (provider, apiKey) => {\n    if (!apiKey.trim()) {\n      toast.error('Please enter an API key to test');\n      return;\n    }\n    setTesting(prev => ({\n      ...prev,\n      [provider]: true\n    }));\n    setTestResults(prev => ({\n      ...prev,\n      [provider]: null\n    }));\n    try {\n      const result = await chatService.testApiKey(provider, apiKey.trim());\n      setTestResults(prev => ({\n        ...prev,\n        [provider]: {\n          success: true,\n          message: result.message\n        }\n      }));\n      toast.success(`${provider.charAt(0).toUpperCase() + provider.slice(1)} API key is valid!`);\n    } catch (error) {\n      setTestResults(prev => ({\n        ...prev,\n        [provider]: {\n          success: false,\n          message: error.message\n        }\n      }));\n      toast.error(`${provider.charAt(0).toUpperCase() + provider.slice(1)} API key test failed`);\n    } finally {\n      setTesting(prev => ({\n        ...prev,\n        [provider]: false\n      }));\n    }\n  };\n  const handleSave = async () => {\n    setLoading(true);\n    try {\n      // Only send API keys that have values\n      const apiKeysToSend = {};\n      Object.entries(formData.apiKeys).forEach(([provider, key]) => {\n        if (key && key.trim()) {\n          apiKeysToSend[provider] = key.trim();\n        }\n      });\n      await actions.updateSettings(formData.settings, Object.keys(apiKeysToSend).length > 0 ? apiKeysToSend : null);\n      toast.success('Settings updated successfully!');\n      onClose();\n    } catch (error) {\n      toast.error('Failed to update settings');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const tabs = [{\n    id: 'models',\n    name: 'Models & API Keys',\n    icon: Settings\n  }, {\n    id: 'preferences',\n    name: 'Preferences',\n    icon: Settings\n  }];\n  const providers = [{\n    id: 'openai',\n    name: 'OpenAI',\n    placeholder: 'sk-...'\n  }, {\n    id: 'anthropic',\n    name: 'Anthropic',\n    placeholder: 'sk-ant-...'\n  }];\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: isOpen,\n    onClose: onClose,\n    className: \"relative z-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black/30\",\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex w-screen items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(Dialog.Panel, {\n        className: \"mx-auto max-w-2xl w-full bg-white rounded-lg shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between p-6 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(Dialog.Title, {\n            className: \"text-lg font-semibold text-gray-900 flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"w-5 h-5 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), \"Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-48 border-r border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"p-4 space-y-1\",\n              children: tabs.map(tab => {\n                const Icon = tab.icon;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setActiveTab(tab.id),\n                  className: `w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${activeTab === tab.id ? 'bg-primary-50 text-primary-600 border border-primary-200' : 'text-gray-700 hover:bg-gray-50'}`,\n                  children: [/*#__PURE__*/_jsxDEV(Icon, {\n                    className: \"w-4 h-4 mr-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 23\n                  }, this), tab.name]\n                }, tab.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6\",\n              children: [activeTab === 'models' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-base font-semibold text-gray-900 mb-4\",\n                    children: \"API Keys\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mb-4\",\n                    children: \"Configure your API keys to enable different AI models.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: providers.map(provider => {\n                      var _state$apiKeys$provid, _formData$apiKeys$pro;\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          className: \"block text-sm font-medium text-gray-700\",\n                          children: [provider.name, \" API Key\", ((_state$apiKeys$provid = state.apiKeys[provider.id]) === null || _state$apiKeys$provid === void 0 ? void 0 : _state$apiKeys$provid.isSet) && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800\",\n                            children: \"Configured\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 173,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex space-x-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"flex-1 relative\",\n                            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                              type: showApiKeys[provider.id] ? 'text' : 'password',\n                              placeholder: provider.placeholder,\n                              value: formData.apiKeys[provider.id] || '',\n                              onChange: e => handleInputChange('apiKeys', provider.id, e.target.value),\n                              className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 181,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                              type: \"button\",\n                              onClick: () => toggleApiKeyVisibility(provider.id),\n                              className: \"absolute inset-y-0 right-0 pr-3 flex items-center\",\n                              children: showApiKeys[provider.id] ? /*#__PURE__*/_jsxDEV(EyeOff, {\n                                className: \"w-4 h-4 text-gray-400\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 194,\n                                columnNumber: 37\n                              }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n                                className: \"w-4 h-4 text-gray-400\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 196,\n                                columnNumber: 37\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 188,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 180,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            onClick: () => testApiKey(provider.id, formData.apiKeys[provider.id]),\n                            disabled: !((_formData$apiKeys$pro = formData.apiKeys[provider.id]) !== null && _formData$apiKeys$pro !== void 0 && _formData$apiKeys$pro.trim()) || testing[provider.id],\n                            className: \"px-3 py-2 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 rounded-lg transition-colors duration-200 flex items-center\",\n                            children: [/*#__PURE__*/_jsxDEV(TestTube, {\n                              className: \"w-4 h-4 mr-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 206,\n                              columnNumber: 33\n                            }, this), testing[provider.id] ? 'Testing...' : 'Test']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 201,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 179,\n                          columnNumber: 29\n                        }, this), testResults[provider.id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `flex items-center text-sm mt-2 ${testResults[provider.id].success ? 'text-green-600' : 'text-red-600'}`,\n                          children: [testResults[provider.id].success ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                            className: \"w-4 h-4 mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 217,\n                            columnNumber: 35\n                          }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n                            className: \"w-4 h-4 mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 219,\n                            columnNumber: 35\n                          }, this), testResults[provider.id].message]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 31\n                        }, this)]\n                      }, provider.id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 27\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this), activeTab === 'preferences' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-base font-semibold text-gray-900 mb-4\",\n                    children: \"Default Settings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: \"Default Model\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        value: formData.settings.default_model || 'gpt-3.5-turbo',\n                        onChange: e => handleInputChange('settings', 'default_model', e.target.value),\n                        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\",\n                        children: state.availableModels.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: model.id,\n                          children: model.name\n                        }, model.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: \"Max Tokens\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        min: \"1\",\n                        max: \"4000\",\n                        value: formData.settings.max_tokens || '2000',\n                        onChange: e => handleInputChange('settings', 'max_tokens', e.target.value),\n                        className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                        children: [\"Temperature (\", formData.settings.temperature || '0.7', \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 271,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"range\",\n                        min: \"0\",\n                        max: \"2\",\n                        step: \"0.1\",\n                        value: formData.settings.temperature || '0.7',\n                        onChange: e => handleInputChange('settings', 'temperature', e.target.value),\n                        className: \"w-full\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex justify-between text-xs text-gray-500 mt-1\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Focused (0)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 284,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Balanced (1)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 285,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Creative (2)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 286,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"flex items-center\",\n                        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"checkbox\",\n                          checked: formData.settings.logging_enabled === 'true',\n                          onChange: e => handleInputChange('settings', 'logging_enabled', e.target.checked ? 'true' : 'false'),\n                          className: \"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"ml-2 text-sm text-gray-700\",\n                          children: \"Enable conversation logging\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 298,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"mt-1 text-xs text-gray-500\",\n                        children: \"Store conversations for history and analytics\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: onClose,\n                className: \"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200\",\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSave,\n                disabled: loading,\n                className: \"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\",\n                children: loading ? 'Saving...' : 'Save Changes'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(SettingsModal, \"4Hjc+CdG3ehmT8QhXtUUtc1fYms=\", false, function () {\n  return [useChat];\n});\n_c = SettingsModal;\nexport default SettingsModal;\nvar _c;\n$RefreshReg$(_c, \"SettingsModal\");","map":{"version":3,"names":["React","useState","useEffect","Dialog","X","Settings","Eye","EyeOff","TestTube","CheckCircle","AlertCircle","useChat","chatService","toast","jsxDEV","_jsxDEV","SettingsModal","isOpen","onClose","_s","state","actions","activeTab","setActiveTab","formData","setFormData","settings","apiKeys","showApiKeys","setShowApiKeys","testing","setTesting","testResults","setTestResults","loading","setLoading","handleInputChange","category","key","value","prev","toggleApiKeyVisibility","provider","testApiKey","apiKey","trim","error","result","success","message","charAt","toUpperCase","slice","handleSave","apiKeysToSend","Object","entries","forEach","updateSettings","keys","length","tabs","id","name","icon","providers","placeholder","open","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Panel","Title","onClick","map","tab","Icon","_state$apiKeys$provid","_formData$apiKeys$pro","isSet","type","onChange","e","target","disabled","default_model","availableModels","model","min","max","max_tokens","temperature","step","checked","logging_enabled","_c","$RefreshReg$"],"sources":["D:/Projects/Embedded AI Agent/frontend/src/components/settings/SettingsModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Dialog } from '@headlessui/react';\r\nimport { X, Settings, Eye, EyeOff, TestTube, CheckCircle, AlertCircle } from 'lucide-react';\r\nimport { useChat } from '../../context/ChatContext';\r\nimport { chatService } from '../../services/api';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst SettingsModal = ({ isOpen, onClose }) => {\r\n  const { state, actions } = useChat();\r\n  const [activeTab, setActiveTab] = useState('models');\r\n  const [formData, setFormData] = useState({\r\n    settings: {},\r\n    apiKeys: {}\r\n  });\r\n  const [showApiKeys, setShowApiKeys] = useState({});\r\n  const [testing, setTesting] = useState({});\r\n  const [testResults, setTestResults] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Initialize form data when modal opens\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      setFormData({\r\n        settings: { ...state.settings },\r\n        apiKeys: {}\r\n      });\r\n      setTestResults({});\r\n    }\r\n  }, [isOpen, state.settings]);\r\n\r\n  const handleInputChange = (category, key, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [category]: {\r\n        ...prev[category],\r\n        [key]: value\r\n      }\r\n    }));\r\n  };\r\n\r\n  const toggleApiKeyVisibility = (provider) => {\r\n    setShowApiKeys(prev => ({\r\n      ...prev,\r\n      [provider]: !prev[provider]\r\n    }));\r\n  };\r\n\r\n  const testApiKey = async (provider, apiKey) => {\r\n    if (!apiKey.trim()) {\r\n      toast.error('Please enter an API key to test');\r\n      return;\r\n    }\r\n\r\n    setTesting(prev => ({ ...prev, [provider]: true }));\r\n    setTestResults(prev => ({ ...prev, [provider]: null }));\r\n\r\n    try {\r\n      const result = await chatService.testApiKey(provider, apiKey.trim());\r\n      setTestResults(prev => ({\r\n        ...prev,\r\n        [provider]: { success: true, message: result.message }\r\n      }));\r\n      toast.success(`${provider.charAt(0).toUpperCase() + provider.slice(1)} API key is valid!`);\r\n    } catch (error) {\r\n      setTestResults(prev => ({\r\n        ...prev,\r\n        [provider]: { success: false, message: error.message }\r\n      }));\r\n      toast.error(`${provider.charAt(0).toUpperCase() + provider.slice(1)} API key test failed`);\r\n    } finally {\r\n      setTesting(prev => ({ ...prev, [provider]: false }));\r\n    }\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // Only send API keys that have values\r\n      const apiKeysToSend = {};\r\n      Object.entries(formData.apiKeys).forEach(([provider, key]) => {\r\n        if (key && key.trim()) {\r\n          apiKeysToSend[provider] = key.trim();\r\n        }\r\n      });\r\n\r\n      await actions.updateSettings(\r\n        formData.settings, \r\n        Object.keys(apiKeysToSend).length > 0 ? apiKeysToSend : null\r\n      );\r\n      \r\n      toast.success('Settings updated successfully!');\r\n      onClose();\r\n    } catch (error) {\r\n      toast.error('Failed to update settings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'models', name: 'Models & API Keys', icon: Settings },\r\n    { id: 'preferences', name: 'Preferences', icon: Settings }\r\n  ];\r\n\r\n  const providers = [\r\n    { id: 'openai', name: 'OpenAI', placeholder: 'sk-...' },\r\n    { id: 'anthropic', name: 'Anthropic', placeholder: 'sk-ant-...' }\r\n  ];\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={onClose} className=\"relative z-50\">\r\n      <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\r\n      \r\n      <div className=\"fixed inset-0 flex w-screen items-center justify-center p-4\">\r\n        <Dialog.Panel className=\"mx-auto max-w-2xl w-full bg-white rounded-lg shadow-xl\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n            <Dialog.Title className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <Settings className=\"w-5 h-5 mr-2\" />\r\n              Settings\r\n            </Dialog.Title>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200\"\r\n            >\r\n              <X className=\"w-5 h-5\" />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex\">\r\n            {/* Sidebar */}\r\n            <div className=\"w-48 border-r border-gray-200\">\r\n              <nav className=\"p-4 space-y-1\">\r\n                {tabs.map((tab) => {\r\n                  const Icon = tab.icon;\r\n                  return (\r\n                    <button\r\n                      key={tab.id}\r\n                      onClick={() => setActiveTab(tab.id)}\r\n                      className={`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${\r\n                        activeTab === tab.id\r\n                          ? 'bg-primary-50 text-primary-600 border border-primary-200'\r\n                          : 'text-gray-700 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      <Icon className=\"w-4 h-4 mr-2\" />\r\n                      {tab.name}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </nav>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"flex-1\">\r\n              <div className=\"p-6\">\r\n                {activeTab === 'models' && (\r\n                  <div className=\"space-y-6\">\r\n                    <div>\r\n                      <h3 className=\"text-base font-semibold text-gray-900 mb-4\">\r\n                        API Keys\r\n                      </h3>\r\n                      <p className=\"text-sm text-gray-600 mb-4\">\r\n                        Configure your API keys to enable different AI models.\r\n                      </p>\r\n\r\n                      <div className=\"space-y-4\">\r\n                        {providers.map((provider) => (\r\n                          <div key={provider.id} className=\"space-y-2\">\r\n                            <label className=\"block text-sm font-medium text-gray-700\">\r\n                              {provider.name} API Key\r\n                              {state.apiKeys[provider.id]?.isSet && (\r\n                                <span className=\"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800\">\r\n                                  Configured\r\n                                </span>\r\n                              )}\r\n                            </label>\r\n                            \r\n                            <div className=\"flex space-x-2\">\r\n                              <div className=\"flex-1 relative\">\r\n                                <input\r\n                                  type={showApiKeys[provider.id] ? 'text' : 'password'}\r\n                                  placeholder={provider.placeholder}\r\n                                  value={formData.apiKeys[provider.id] || ''}\r\n                                  onChange={(e) => handleInputChange('apiKeys', provider.id, e.target.value)}\r\n                                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pr-10\"\r\n                                />\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => toggleApiKeyVisibility(provider.id)}\r\n                                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\r\n                                >\r\n                                  {showApiKeys[provider.id] ? (\r\n                                    <EyeOff className=\"w-4 h-4 text-gray-400\" />\r\n                                  ) : (\r\n                                    <Eye className=\"w-4 h-4 text-gray-400\" />\r\n                                  )}\r\n                                </button>\r\n                              </div>\r\n                              \r\n                              <button\r\n                                onClick={() => testApiKey(provider.id, formData.apiKeys[provider.id])}\r\n                                disabled={!formData.apiKeys[provider.id]?.trim() || testing[provider.id]}\r\n                                className=\"px-3 py-2 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:text-gray-400 text-gray-700 rounded-lg transition-colors duration-200 flex items-center\"\r\n                              >\r\n                                <TestTube className=\"w-4 h-4 mr-1\" />\r\n                                {testing[provider.id] ? 'Testing...' : 'Test'}\r\n                              </button>\r\n                            </div>\r\n\r\n                            {/* Test Result */}\r\n                            {testResults[provider.id] && (\r\n                              <div className={`flex items-center text-sm mt-2 ${\r\n                                testResults[provider.id].success ? 'text-green-600' : 'text-red-600'\r\n                              }`}>\r\n                                {testResults[provider.id].success ? (\r\n                                  <CheckCircle className=\"w-4 h-4 mr-1\" />\r\n                                ) : (\r\n                                  <AlertCircle className=\"w-4 h-4 mr-1\" />\r\n                                )}\r\n                                {testResults[provider.id].message}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {activeTab === 'preferences' && (\r\n                  <div className=\"space-y-6\">\r\n                    <div>\r\n                      <h3 className=\"text-base font-semibold text-gray-900 mb-4\">\r\n                        Default Settings\r\n                      </h3>\r\n                      \r\n                      <div className=\"space-y-4\">\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Default Model\r\n                          </label>\r\n                          <select\r\n                            value={formData.settings.default_model || 'gpt-3.5-turbo'}\r\n                            onChange={(e) => handleInputChange('settings', 'default_model', e.target.value)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                          >\r\n                            {state.availableModels.map((model) => (\r\n                              <option key={model.id} value={model.id}>\r\n                                {model.name}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Max Tokens\r\n                          </label>\r\n                          <input\r\n                            type=\"number\"\r\n                            min=\"1\"\r\n                            max=\"4000\"\r\n                            value={formData.settings.max_tokens || '2000'}\r\n                            onChange={(e) => handleInputChange('settings', 'max_tokens', e.target.value)}\r\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                          />\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Temperature ({formData.settings.temperature || '0.7'})\r\n                          </label>\r\n                          <input\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max=\"2\"\r\n                            step=\"0.1\"\r\n                            value={formData.settings.temperature || '0.7'}\r\n                            onChange={(e) => handleInputChange('settings', 'temperature', e.target.value)}\r\n                            className=\"w-full\"\r\n                          />\r\n                          <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\r\n                            <span>Focused (0)</span>\r\n                            <span>Balanced (1)</span>\r\n                            <span>Creative (2)</span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div>\r\n                          <label className=\"flex items-center\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={formData.settings.logging_enabled === 'true'}\r\n                              onChange={(e) => handleInputChange('settings', 'logging_enabled', e.target.checked ? 'true' : 'false')}\r\n                              className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\r\n                            />\r\n                            <span className=\"ml-2 text-sm text-gray-700\">\r\n                              Enable conversation logging\r\n                            </span>\r\n                          </label>\r\n                          <p className=\"mt-1 text-xs text-gray-500\">\r\n                            Store conversations for history and analytics\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              <div className=\"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3\">\r\n                <button\r\n                  onClick={onClose}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors duration-200\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleSave}\r\n                  disabled={loading}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-lg hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200\"\r\n                >\r\n                  {loading ? 'Saving...' : 'Save Changes'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Dialog.Panel>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default SettingsModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}